"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTO JORDAN" = "SECTOR ALTO JORDAN"
)
setdiff(lista_Barrios[[3]], lista_Barrios[[4]])
datos_Vivienda$Barrio_Clean<-dplyr::recode_factor(datos_Vivienda$Barrio,
"ACOPI" = "BRISAS DE LOS ALAMOS",
"AGUA BLANCA" = "AGUABLANCA",
"ALAMOS" = "CIUDAD LOS ALAMOS",
"ALBORADA" = "LA ALBORADA",
"ALCAZARES" = "LOS ALCAZARES",
"ALF√(C)REZ REAL" = "ALFEREZ REAL",
"ALFONSO LOPEZ" = "ALFONSO LOPEZ P. 1A ETAPA",
"ALFONSO LOPEZ I" = "ALFONSO LOPEZ P. 1A ETAPA",
"ALTO JORDAN" = "SECTOR ALTO JORDAN",
"ALTOS DE GUADALUPE" = "SECTOR CANAVERALEJO GUADALUPE",
"ALTOS DE SANTA" = "SECTOR ALTOS DE SANTA ISABEL",
"ARBOLEDA" = "ARBOLEDAS",
"ARBOLEDA CAMPESTRE CANDELARIA" = "NA",
"AUTOPISTA SUR" = "NA",
"BAJO AGUACATAL" = "AGUACATAL",
"BARRANQUILLA" = "LOS PARQUES DE BARRANQUILLA",
"BARRIO 7DE AGOSTO" = "SIETE DE AGOSTO",
"BARRIO EL RECUERDO" = "EL RECUERDO",
"BARRIO EUCARISTICO" = "EUCARISTICO",
"BARRIO TRANQUILO Y" = "NA",
"BASE A√(C)REA" = "BASE AEREA",
"BELLA SUIZA" = "CANAVERAL",
"BELLA SUIZA ALTA" = "CANAVERAL",
"BERLIN" = "SULTANA - BERLIN - SAN FRANCISCO",
"BLOQUES DEL LIMONAR" = "EL LIMONAR",
"BOCHALEMA" = "BOCHALEMA",
"CIUDAD BOCHALEMA" = "BOCHALEMA",
"BOSQUES DE ALBOLEDA" = "SANTA TERESITA",
"BOYACA" = "URBANIZACION BOYACA",
"BRISAS DE GUADALUPE" = "SECTOR CANAVERALEJO GUADALUPE",
"BRISAS DE LOS" = "BRISAS DE LOS ALAMOS",
"BRISAS DEL GUABITO" = "VILLA DEL PRADO - EL GUABITO",
"BUENO MADRID" = "UNIDAD RESIDENCIAL BUENO MADRID",
"CALI" = "NA",
"CALI BELLA" = "FEPICOL",
"CALI CANTO" = "LILI",
"CALIBELLA" = "FEPICOL",
"CALICANTO" = "LILI",
"CALICANTO VIIIN" = "LILI",
"CALIMIO NORTE" = "URBANIZACION CALIMIO",
"CAMBULOS" = "LOS CAMBULOS",
"CAMINO REAL" = "CAMINO REAL - LOS FUNDADORES",
"CAMPESTRE" = "CLUB CAMPESTRE",
"CANEY ESPECIAL" = "CANEY",
"CANASGORDAS" = "URBANIZACION RIO LILI",
"CANAVERALEJO" = "CANAVERALEJO - SEGUROS COLPATRIA",
"CANAVERALES" = "CANAVERALES - LOS SAMANES",
"CANAVERALES LOS SAMANES" = "CANAVERALES - LOS SAMANES",
"CAPRI" = "CIUDAD CAPRI",
"CASCAJAL" = "NA",
"CATAYA REAL" = "PARCELACIONES PANCE",
"CEIBAS" = "LAS CEIBAS",
"CENTELSA" = "MENGA",
"CENTRO" = "NA",
"CERRO CRISTALES" = "SECTOR ALTOS DE SANTA ISABEL",
"CERROS DE GUADALUPE" = "SECTOR CANAVERALEJO GUADALUPE",
"CHIMINANGOS" = "CHIMINANGOS I",
"CHIMINANGOS 1 ETAPA" = "CHIMINANGOS I",
"CHIMINANGOS 2 ETAPA" = "CHIMINANGOS II",
"CIUDAD ANTEJARDIN" = "URBANIZACION CIUDAD JARDIN",
"CIUDAD CORDOBA RESERVADO" = "CIUDAD CORDOBA",
"CIUDAD COUNTRY" = "NA",
"CIUDAD DEL CAMPO" = "NA",
"CIUDAD JARDIN" = "URBANIZACION CIUDAD JARDIN",
"CIUDAD JARDIN PANCE" = "PARCELACIONES PANCE",
"CIUDAD LOS ALAMOS" = "CIUDAD DE LOS ALAMOS",
"CIUDAD MEL√(C)NDEZ" = "MELENDEZ",
"CIUDAD MELENDEZ" = "MELENDEZ",
"CIUDAD MODELO" = "LOS SAUCES",
"CIUDAD PACIFICA" = "NA",
"CIUDAD REAL" = "NA",
"CIUDADELA DEL RIO" = "CIUDADELA DEL RIO - CVC",
"CIUDADELA MELENDEZ" = "SECTOR MELENDEZ",
"CIUDADELA PASO ANCHO" = "CIUDADELA PASOANCHO",
"COLINAS DE MENGA" = "ALTOS DE MENGA",
"COLINAS DEL BOSQUE" = "EL BOSQUE",
"COLON" = "CRISTOBAL COLON",
"COLSEGUROS" = "COLSEGUROS ANDES",
"COMFENALCO" = "PASO DEL COMERCIO",
"CONJUNTO GIBRALTAR" = "EL TRONCAL",
"CRISTALES" = "TEJARES - CRISTALES",
"CUARTO DE LEGUA" = "CUARTO DE LEGUA - GUADALUPE",
"ED BENJAMIN HERRERA" = "SAN PEDRO",
"EL CANEY" = "CANEY",
"EL CASTILLO" = "PANAMERICANO",
"EL GUABITO" = "VILLA DEL PRADO - EL GUABITO",
"EL INGENIO 3" = "EL INGENIO",
"EL INGENIO I" = "EL INGENIO",
"EL INGENIO II" = "EL INGENIO",
"EL INGENIO III" = "EL INGENIO",
"EL TR√(C)BOL" = "EL TREBOL",
"FARRALLONES DE PANCE" = "PARCELACIONES PANCE",
"FLORA" = "LA FLORA",
"FLORALIA" = "CIUDADELA FLORALIA",
"FUENTES DE LA" = "NA",
"GAITAN" = "JORGE ELIECER GAITAN",
"GRAN LIMONAR" = "EL GRAN LIMONAR",
"GUADALUPE" = "CUARTO DE LEGUA - GUADALUPE",
"GUADALUPE ALTO" = "SECTOR CANAVERALEJO GUADALUPE",
"GUADUALES" = "LOS GUADUALES",
"HACIENDA ALFEREZ REAL" = "ALFEREZ REAL",
"INGENIO" = "EL INGENIO",
"INGENIO I" = "EL INGENIO",
"INGENIO II" = "EL INGENION",
"JAMUNDI" = "NA",
"JAMUNDI ALFAGUARA" = "NA",
"JOSE MANUEL MARROQUIN" = "JOSE MANUEL MARROQUIN I",
"JUANAMB√∫" = "JUANAMBU",
"LA ARBOLEDA" = "ARBOLEDAS",
"LA BUITRERA" = "NA",
"LA CEIBAS" = "LAS CEIBAS",
"LA LUISA" = "SECTOR ALTO LOS CHORROS",
"LA MORADA" = "NA",
"LA NUEVA BASE" = "URBANIZACION LA NUEVA BASE",
"LA PORTADA AL" = "SANTA TERESITA",
"LA PRIMAVERA" = "PRIMAVERA",
"LA REFORMA" = "NA",
"LA RIVERA" = "LA RIVERA I",
"LA RIVERA II" = "LA RIVERA I",
"LA RIVERITA" = "PARCELACIONES PANCE",
"LA RIVIERA" = "LOS ANDES B - LA RIVIERA",
"LA VILLA DEL" = "NA",
"LAFLORA" = "LA FLORA",
"LARES DE COMFENALCO" = "SECTOR PUENTE DEL COMERCIO",
"LAS AM√(C)RICAS" = "LAS AMERICAS",
"LAS CAMELIAS" = "CANAVERALES - SAMANES",
"LAS QUINTAS DE" = "LAS QUINTAS DE DON SIMON",
"LAS VEGAS" = "MAYAPAN - LAS VEGAS",
"LAS VEGAS DE" = "EL CANEY",
"LIBERTADORES" = "LOS LIBERTADORES",
"LOS ALAMOS" = "CIUDAD DE LOS ALAMOS",
"LOS CRISTALES" = "TEJARES - CRISTALES",
"LOS CRISTALES CLUB" = "ALTOS DE SANTA ISABEL",
"LOS JOCKEYS" = "URBANIZACION CIUDAD JARDIN",
"MAMELLAN" = "BELLAVISTA",
"MAYAPAN LAS VEGAS" = "MAYAPAN - LAS VEGAS",
"MEL√(C)NDEZ" = "MELENDEZ",
"MIRADOL DEL AGUACATAL" = "AGUACATAL",
"MORICHAL DE COMFANDI" = "SECTOR ALTO JORDAN",
"MULTICENTRO" = "UNICENTRO CALI",
"NORMANDIA WEST POINT" = "NORMANDIA",
"NORTE" = "PRADOS DEL NORTE",
"NORTE LA FLORA" = "LA FLORA",
"NUEVA BASE" = "URBANIZACION NUEVA BASE",
"OASIS DE COMFANDI" = "LOS GUADUALES",
"OASIS DE PASOANCHO" = "COLSEGUROS ANDES",
"OCCIDENTE" = "NA",
"PACARA" = "LA MERCED",
"PALMAS DEL INGENIO" = "EL INGENIO",
"PAMPALINDA" = "PAMPA LINDA",
"PANCE" = "PARCELACIONES PANCE",
"PARQUE RESIDENCIAL EL" = "EL BOSQUE",
"POBLADO CAMPESTRE" = "NA",
"PONCE" = "PARCELACIONES PANCE",
"PORTADA DE COMFANDI" = "LOS ALCAZARES",
"PORTALES DE COMFANDI" = "NA",
"PUENTE DEL COMERCIO" = "SECTOR PUENTE DEL COMERCIO",
"PUENTE PALMA" = "CUARTO DE LEGUA - GUADALUPE",
"QUINTAS DE DON" = "LAS QUINTAS DE DON SIMON",
"QUINTAS DE SALOMIA" = "JORGE ELIECER GAITAN",
"REFUGIO" = "EL REFUGIO",
"REP√∫BLICA DE ISRAEL" = "REPUBLICA DE ISRAEL",
"RINCON DE LA" = "UNIDAD RESIDENCIAL BUENO MADRID",
"RINCON DE SALOMIA" = "SALOMIA",
"RIVERAS DEL VALLE" = "EL CANEY",
"ROZO LA TORRE" = "NA",
"SAMANES" = "CANAVERALES - LOS SAMANES",
"SAMANES DE GUADALUPE" = "CANAVERALES - LOS SAMANES",
"SAMECO" = "URBANIZACION LA FLORA",
"SAN BOSCO" = "SAN JUAN BOSCO",
"SAN FERNANDO" = "SAN FERNANDO NUEVO",
"SAN JOAQUIN" = "URBANIZACION SAN JOAQUIN",
"SAN JUDAS" = "SAN JUDAS TADEO I",
"SAN JUDAS TADEO" = "SAN JUDAS TADEO II",
"SANTA" = "SANTA TERESITA",
"SANTA ANITA" = "SANTA ANITA - LA SELVA",
"SANTA ANITA SUR" = "SANTA ANITA - LA SELVA",
"SANTA HELENA DE" = "SANTA ELENA",
"SANTA MONICA ALTA" = "SANTA MONICA",
"SANTA MONICA NORTE" = "SANTA MONICA",
"SANTA MONICA RESIDENCIAL" = "SANTA MONICA",
"SANTAFE" = "SANTA FE",
"SECTOR AGUACATAL" = "AGUACATAL",
"SEMINARIO" = "PAMPA LINDA",
"SIERRAS DE NORMANDIA" = "NORMANDIA",
"TEJARES CRISTALES" = "TEJARES - CRISTALES",
"TEJARES DE SAN" = "MIRAFLORES",
"TEMPLETE" = "EUCARISTICO",
"TEQUENDAMA" = "URBANIZACION TEQUENDAMA",
"TEQUENDEMA" = "NUEVA TEQUENDAMA",
"UNION DE VIVIENDA" = "UNION DE VIVIENDA POPULAR",
"URBANIZACION BARRANQUILLA" = "LOS PARQUES BARRANQUILLA",
"URBANIZACION EL SAMAN" = "CANAVERALES - LOS SAMANES",
"URBANIZACION GRATAMIRA" = "LA SELVA",
"URBANIZACION LA NUEVA" = "NUEVA FLORESTA",
"URBANIZACION LAS CASCADAS" = "CUARTO DE LEGUA - GUADALUPE",
"URBANIZACION LILI" = "URBANIZACION RIO LILI",
"URBANIZACION PACARA" = "CIUDAD DE LOS ALAMOS",
"VALLE DE LILI" = "LILI",
"VALLE DEL LILI" = "LILI",
"VILLA DE VERACRUZ" = "SALOMIA",
"VILLA DEL PARQUE" = "LOS PARQUES BARRANQUILLA",
"VILLA DEL PRADO" = "VILLA DEL PRADO - EL GUABITO",
"VILLAS DE VERACRUZ" = "SALOMIA",
"ZONA CENTRO" = "NA",
"ZONA NORTE" = "NA",
"ZONA NORTE LOS" = "NA",
"ZONA OESTE" = "NA",
"ZONA ORIENTE" = "NA",
"ZONA RESIDENCIAL" = "NA",
"ZONA SUR" = "NA"
)
levels(as.factor(datos_Vivienda$Barrio_Clean))
boxplot(datos_Vivienda$Precio ~ datos_Vivienda$Barrio_Clean)
library(paqueteMETODOS)
library(dplyr)
library(stringi)
datos_Vivienda
levels(as.factor(datos_Vivienda$Barrio_Clean))
datos_Vivienda$Barrio_Clean<-levels(as.factor(datos_Vivienda$Barrio_Clean))
datos_Vivienda$Barrio_Clean<-as.factor(datos_Vivienda$Barrio_Clean)
boxplot(datos_Vivienda$Precio ~ datos_Vivienda$Barrio_Clean)
write.csv2(datos_Vivienda, "datos_Vivienda.csv", colnames = TRUE, rownames = FALSE)
write.csv2(datos_Vivienda, "datos_Vivienda.csv")
# Muestra las coordenadas transformadas
print(Cali_WGS84)
leaflet::leaflet()%>%
addTiles() %>%  # Agrega tiles de OpenStreetMap
# Agrega el objeto sf al mapa
addPolygons(data = Cali_WGS84)
require(leaflet)
leaflet::leaflet()%>%
addTiles() %>%  # Agrega tiles de OpenStreetMap
# Agrega el objeto sf al mapa
addPolygons(data = Cali_WGS84)
plot(datos_Vivienda$Latitud ~ datos_Vivienda$Longitud)
datos_Vivienda_sin.na<- subset(datos_Vivienda, !is.na(Longitud) & !is.na(Latitud))
datos_Vivienda_sin.na
Viviendas_Espacial <- sf::st_as_sf(datos_Vivienda_sin.na, coords = c("Longitud", "Latitud"))
Viviendas_Espacial
crs <- sf::st_crs("+proj=longlat +datum=WGS84 +no_defs")
Viviendas_Espacial <- sf::st_set_crs(Viviendas_Espacial, crs)
Cali_WGS84
Cali_WGS84
as.list(toupper(stringi::stri_trans_general(Cali_WGS84$barrio,"Latin-ASCII")))
toupper(stringi::stri_trans_general(Cali_WGS84$barrio,"Latin-ASCII"))
datos_Vivienda
Cali_WGS84$Barrio_Clean<-toupper(stringi::stri_trans_general(Cali_WGS84$barrio,"Latin-ASCII"))
Cali_WGS84
Viviendas_Espacial
join_puntos<-st_join(Viviendas_Espacial, Cali_WGS84, join = st_contains, left = TRUE)
join_puntos<-sf::st_join(Viviendas_Espacial, Cali_WGS84, join = st_contains, left = TRUE)
require(sf)
join_puntos<-sf::st_join(Viviendas_Espacial, Cali_WGS84, join = st_contains, left = TRUE)
join_puntos
join_puntos <- merge(Viviendas_Espacial, Cali_WGS84, by = "Barrio_Clean", all.x = TRUE)
join_puntos <- sf::merge(Viviendas_Espacial, Cali_WGS84, by = "Barrio_Clean", all.x = TRUE)
join_puntos<-sf::st_join(Viviendas_Espacial, Cali_WGS84, join = st_contains, left = TRUE)
View(join_puntos)
join_puntos <- sf::st_join(Viviendas_Espacial, Cali_WGS84, by = "Barrio_Clean")
join_puntos <- sf::st_join(Viviendas_Espacial, Cali_WGS84, by = "Barrio_Clean")
join_puntos <- st_join(Viviendas_Espacial, Cali_WGS84, left = TRUE, right = TRUE)
join_puntos <- st_join(Viviendas_Espacial, Cali_WGS84, left = TRUE)
join_puntos <- st_join(Viviendas_Espacial, Cali_WGS84, left = FALSE)
join_puntos <- sf::st_join(Viviendas_Espacial, Cali_WGS84, join = "Barrio_Clean")
join_puntos <- sf::st_join(Viviendas_Espacial, Cali_WGS84, join = st_within)
View(join_puntos)
datos_join <- dplyr::merge(Viviendas_Espacial, Cali_WGS84, by = "ID", all.x = TRUE)
require(sp)
datos_join <- sp::merge(Viviendas_Espacial, Cali_WGS84, by = "ID", all.x = TRUE)
datos_join <- sf::merge.sf(Viviendas_Espacial, Cali_WGS84, by = "ID", all.x = TRUE)
datos_join <- sf::left_join(Viviendas_Espacial, Cali_WGS84, by = "Barrios_Clean")
datos_join <- dplyr::left_join(Viviendas_Espacial, Cali_WGS84, by = "Barrios_Clean")
as.data.frame(Cali_WGS84)
datos_join <- dplyr::left_join(Viviendas_Espacial, as.data.frame(Cali_WGS84), by = "Barrios_Clean")
Viviendas_Espacial
datos_join <- dplyr::left_join(Viviendas_Espacial, as.data.frame(Cali_WGS84), by = "Barrio_Clean")
View(datos_join)
levels(as.factor(datos_join$Zona))
datos_join
datos_join_Poly <- dplyr::left_join(Cali_WGS84,Viviendas_Espacial, by = "Barrio_Clean")
datos_join_Poly <- dplyr::left_join(Cali_WGS84,as.data.frame(Viviendas_Espacial), by = "Barrio_Clean")
View(datos_join_Poly)
class(datos_join_Poly)
sf::st_write(datos_join_Poly, "./sig/datos_join_Poly.shp")
View(datos_join_Poly)
leaflet::leaflet()%>%
addTiles() %>%  # Agrega tiles de OpenStreetMap
# Agrega el objeto sf al mapa
addPolygons(data = datos_join_Poly, group = "Barrios", color = "grey",
stroke = 0.2, opacity = 1)
datos_join_Poly
datos_join_Poly%>%group_by(Barrio_Clean)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
poligono_Precios<-datos_join_Poly%>%group_by(Barrio_Clean)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
palMediana <- colorNumeric(
palette = "YlOrRd",
domain = na.omit(poligono_Precios$mediana))
palMediana <- colorNumeric(
palette = "YlOrRd",
domain = na.omit(poligono_Precios$mediana))
leaflet::leaflet(height=700, width = 800)%>%
addProviderTiles(providers$CartoDB.DarkMatterNoLabels)%>%
addCircles(data = poligono_Precios, color = ~pal(mediana),  radius = ~Precio/10)%>%
addFullscreenControl(position = "topleft", pseudoFullscreen = TRUE)%>%
addLegend( position = "bottomleft", pal = palMediana, values = na.omit(poligono_Precios$mediana),
title = 'Precios',
opacity = 1)%>%
addMiniMap(tiles = "CartoDB.Voyager")
require(leaflet.extras)
leaflet::leaflet(height=700, width = 800)%>%
addProviderTiles(providers$CartoDB.DarkMatterNoLabels)%>%
addCircles(data = poligono_Precios, color = ~pal(mediana),  radius = ~Precio/10)%>%
addFullscreenControl(position = "topleft", pseudoFullscreen = TRUE)%>%
addLegend( position = "bottomleft", pal = palMediana, values = na.omit(poligono_Precios$mediana),
title = 'Precios',
opacity = 1)%>%
addMiniMap(tiles = "CartoDB.Voyager")
poligono_Precios
leaflet::leaflet(height=700, width = 800)%>%
addProviderTiles(providers$CartoDB.DarkMatterNoLabels)%>%
addCircles(data = poligono_Precios, color = ~pal(mediana),  radius = ~Precio/10)%>%
addFullscreenControl(position = "topleft", pseudoFullscreen = TRUE)%>%
addLegend( position = "bottomleft", pal = palMediana, values = na.omit(poligono_Precios$mediana),
title = 'Precios',
opacity = 1)%>%
addMiniMap(tiles = "CartoDB.Voyager")
sf::sf_write(poligono_Precios, "./sig/poligono_Precios.shp")
sf::write_sf(poligono_Precios, "./sig/poligono_Precios.shp")
datos_join
puntos_Precios<-datos_join%>%group_by(Barrio_Clean)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
puntos_Precios
poligono_Precios
datos_join_Poly <- dplyr::left_join(Cali_WGS84,as.data.frame(puntos_Precios), by = "Barrio_Clean")
datos_join_Poly
sf::write_sf(poligono_Precios, "./sig/poligono_Precios.shp")
sf::write_sf(datos_join_Poly, "./sig/poligono_Precios.shp")
sf::write_sf(datos_join_Poly, "./sig/poligono_Precios2.shp")
View(datos_join_Poly)
datos_join_Poly
View(datos_join_Poly)
Cali_WGS84
Barrios_precio<-datos_join%>%group_by(Barrio_Clean)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
Barrios_precio_join <- dplyr::left_join(Cali_WGS84,as.data.frame(Barrios_precio), by = "Barrio_Clean")
Comuna_precio<-datos_join%>%group_by(comuna)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
comuna_precio_join <- dplyr::left_join(Cali_WGS84,as.data.frame(Barrios_precio), by = "comuna")
comuna_precio_join <- dplyr::left_join(Cali_WGS84,as.data.frame(Comuna_precio), by = "comuna")
sf::write_sf(comuna_precio_join, "./sig/Comuna_precio.shp")
Cali_WGS84
datos_join
Zona_precio<-datos_join%>%group_by(Zona)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
Zona_precio
zonas_join <- dplyr::left_join(Cali_WGS84,Viviendas_Espacial, by = "Barrio_Clean")
zonas_join <- dplyr::left_join(Cali_WGS84,as.data.frame(Viviendas_Espacial), by = "Barrio_Clean")
View(zonas_join)
zonas_precio_join <- dplyr::left_join(zonas_join,as.data.frame(Zona_precio), by = "Zona")
zonas_precio_join
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.shp")
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.gpkg")
colnames(zonas_precio_join)
zonas_precio_join[,c(1,3:23)]
zonas_precio_join<-zonas_precio_join[,c(1,3:23)]
zonas_precio_join<-zonas_precio_join[,c(1,3:23)]
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.shp")
zonas_precio_join<-zonas_precio_join[,c(3:23)]
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.shp")
zonas_precio_join
zonas_precio_join<-zonas_precio_join[,c(2:23)]
zonas_precio_join<-zonas_precio_join[,c(2:20)]
zonas_precio_join
zonas_precio_join <- dplyr::left_join(zonas_join,as.data.frame(Zona_precio), by = "Zona")
zonas_precio_join
zonas_precio_join<-zonas_precio_join[,c(3:23)]
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.shp")
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.gpkg")
View(zonas_precio_join)
zonas_precio_join <- dplyr::left_join(zonas_join,as.data.frame(Zona_precio), by = "Zona")
zonas_precio_join<-zonas_precio_join[,c(3,7:18,20:22)]
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.gpkg")
zonas_join
datos_join
zonas_join<-dplyr::left_join(zonas_join,as.data.frame(Cali_WGS84), by = "Zonas")
data.frame(Cali_WGS84)
zonas_join<-dplyr::left_join(zonas_join,as.data.frame(datos_join), by = "Zonas")
Viviendas_Espacial
resultado <- Viviendas_Espacial %>% distinct(Zona, Barrio_Clean)
resultado
Cali_WGS84<-dplyr::left_join(Cali_WGS84,as.data.frame(resultado), by = "Barrio_Clean")
Cali_WGS84
zonas_precio_join <- dplyr::left_join(Cali_WGS84,as.data.frame(Zona_precio), by = "Zona")
sf::write_sf(zonas_precio_join, "./sig/Zona_precio.shp")
zonas_precio_join
Zona_precio<-datos_join%>%group_by(Zona)%>%summarise(
media = mean(Precio ),
mediana = median(Precio ),
rango_intercuartilico = IQR(Precio )
)
Zona_precio
Barrios_precio_join
zonas_precio_join <- dplyr::left_join(Cali_WGS84,as.data.frame(Zona_precio), by = "Zona")
zonas_precio_join
sf::write_sf(zonas_precio_join, "./sig/Zona_precio2.shp")
zonas_precio_join
Zona_precio
Barrios_precio
Comuna_precio
Zona_precio
Cali_WGS84
Cali_WGS84<-sf::st_read("./sig/Cali_WGS84.gpkg", layer="Barrios")
Cali_WGS84$Barrio_Clean<-toupper(stringi::stri_trans_general(Cali_WGS84$barrio,"Latin-ASCII"))
View(Cali_WGS84)
Cali_WGS84_zonas<-dplyr::left_join(Cali_WGS84,as.data.frame(resultado), by = "Barrio_Clean")
resultado
View(Cali_WGS84_zonas)
View(resultado)
View(Viviendas_Espacial)
